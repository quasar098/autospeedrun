package name.quasar.autospeedrun.usercode;

import name.quasar.autospeedrun.AutoSpeedrunApi;

import java.util.function.IntPredicate;

public class Util {

    public static final double SENS = 0.40140846371650696;  // from options.txt

    // idk how these values are calculated if 0.85 * 1.8 is not 1.62 ???? wtf
    public static final double PLAYER_STANDING_EYE_HEIGHT = 1.62;
    public static final double PLAYER_CROUCHING_EYE_HEIGHT = 1.27;

    public static int tickCount = 0;

    public static int SCREEN_W = 0;
    public static int SCREEN_H = 0;

    public static RunStage runStage = RunStage.OVERWORLD;

    //<editor-fold desc="int[][][] glyphChecks = { ... };">
    static int[][][] glyphChecks = {
        {  // (space)
            {0},
            {0},
            {0},
            {0},
            {0},
            {0},
            {0},
            {0},
        },
        {  // !
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {0, 0},
            {1, 0},
            {0, 0},
        },
        {  // "
            {1, 0, 1, 0},
            {1, 0, 1, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
        },
        {  // #
            {0, 1, 0, 1, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // $
            {0, 0, 1, 0, 0, 0},
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // %
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 1, 0, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {0, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // &
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 1, 0, 1, 0},
            {1, 0, 1, 1, 0, 0},
            {1, 0, 0, 1, 0, 0},
            {0, 1, 1, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // '
            {1, 0},
            {1, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
        },
        {  // (
            {0, 0, 1, 0},
            {0, 1, 0, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {0, 1, 0, 0},
            {0, 0, 1, 0},
            {0, 0, 0, 0},
        },
        {  // )
            {1, 0, 0, 0},
            {0, 1, 0, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {0, 1, 0, 0},
            {1, 0, 0, 0},
            {0, 0, 0, 0},
        },
        {  // *
            {1, 0, 1, 0},
            {0, 1, 0, 0},
            {1, 0, 1, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
            {0, 0, 0, 0},
        },
        {  // +
            {0, 0, 0, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // ,
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {1, 0},
            {1, 0},
        },
        {  // -
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // .
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {1, 0},
            {0, 0},
        },
        {  // /
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 0
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 1, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 1
            {0, 0, 1, 0, 0, 0},
            {0, 1, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 2
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 1, 1, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 3
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 4
            {0, 0, 0, 1, 1, 0},
            {0, 0, 1, 0, 1, 0},
            {0, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 5
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 6
            {0, 0, 1, 1, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 7
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 8
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // 9
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 1, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // :
            {0, 0},
            {0, 0},
            {1, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {1, 0},
            {0, 0},
        },
        {  // ;
            {0, 0},
            {0, 0},
            {1, 0},
            {0, 0},
            {0, 0},
            {0, 0},
            {1, 0},
            {1, 0},
        },
        {  // <
            {0, 0, 0, 1, 0},
            {0, 0, 1, 0, 0},
            {0, 1, 0, 0, 0},
            {1, 0, 0, 0, 0},
            {0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0},
            {0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0},
        },
        {  // =
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // >
            {1, 0, 0, 0, 0},
            {0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0},
            {0, 0, 0, 1, 0},
            {0, 0, 1, 0, 0},
            {0, 1, 0, 0, 0},
            {1, 0, 0, 0, 0},
            {0, 0, 0, 0, 0},
        },
        {  // ?
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // @
            {0, 0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 0, 1, 0},
            {1, 0, 1, 1, 0, 1, 0},
            {1, 0, 1, 0, 0, 1, 0},
            {1, 0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 1, 0, 0},
        },
        {  // A
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // B
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // C
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // D
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // E
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // F
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // G
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // H
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // I
            {1, 1, 1, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {1, 1, 1, 0},
            {0, 0, 0, 0},
        },
        {  // J
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // K
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 1, 0, 0},
            {1, 1, 1, 0, 0, 0},
            {1, 0, 0, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // L
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // M
            {1, 0, 0, 0, 1, 0},
            {1, 1, 0, 1, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // N
            {1, 0, 0, 0, 1, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 0, 0, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // O
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // P
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // Q
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 1, 0, 0},
            {0, 1, 1, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // R
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // S
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // T
            {1, 1, 1, 1, 1, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // U
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // V
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // W
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 1, 0, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // X
            {1, 0, 0, 0, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // Y
            {1, 0, 0, 0, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // Z
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // [
            {1, 1, 1, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {1, 0, 0, 0},
            {1, 1, 1, 0},
            {0, 0, 0, 0},
        },
        {  // \
            {1, 0, 0, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // ]
            {1, 1, 1, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {0, 0, 1, 0},
            {1, 1, 1, 0},
            {0, 0, 0, 0},
        },
        {  // ^
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // _
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
        },
        {  // `
            {1, 0, 0},
            {0, 1, 0},
            {0, 0, 0},
            {0, 0, 0},
            {0, 0, 0},
            {0, 0, 0},
            {0, 0, 0},
            {0, 0, 0},
        },
        {  // a
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // b
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 1, 1, 0, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // c
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // d
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 1, 1, 0, 1, 0},
            {1, 0, 0, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // e
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // f
            {0, 0, 1, 1, 0},
            {0, 1, 0, 0, 0},
            {1, 1, 1, 1, 0},
            {0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0},
        },
        {  // g
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
        },
        {  // h
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 1, 1, 0, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // i
            {1, 0},
            {0, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {0, 0},
        },
        {  // j
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
        },
        {  // k
            {1, 0, 0, 0, 0},
            {1, 0, 0, 0, 0},
            {1, 0, 0, 1, 0},
            {1, 0, 1, 0, 0},
            {1, 1, 0, 0, 0},
            {1, 0, 1, 0, 0},
            {1, 0, 0, 1, 0},
            {0, 0, 0, 0, 0},
        },
        {  // l
            {1, 0, 0},
            {1, 0, 0},
            {1, 0, 0},
            {1, 0, 0},
            {1, 0, 0},
            {1, 0, 0},
            {0, 1, 0},
            {0, 0, 0},
        },
        {  // m
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 0, 1, 0, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // n
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // o
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // p
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 1, 1, 0, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
        },
        {  // q
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 0, 1, 0},
            {1, 0, 0, 1, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 1, 0},
        },
        {  // r
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 1, 1, 0, 0},
            {1, 1, 0, 0, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // s
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 1, 0},
            {1, 0, 0, 0, 0, 0},
            {0, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // t
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {1, 1, 1, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 0, 1, 0},
            {0, 0, 0, 0},
        },
        {  // u
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // v
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // w
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {1, 0, 1, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // x
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 1, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // y
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {1, 0, 0, 0, 1, 0},
            {0, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 1, 0},
            {1, 1, 1, 1, 0, 0},
        },
        {  // z
            {0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 1, 0, 0},
            {0, 0, 1, 0, 0, 0},
            {0, 1, 0, 0, 0, 0},
            {1, 1, 1, 1, 1, 0},
            {0, 0, 0, 0, 0, 0},
        },
        {  // {
            {0, 0, 1, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {1, 0, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 0, 1, 0},
            {0, 0, 0, 0},
        },
        {  // |
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {1, 0},
            {0, 0},
        },
        {  // }
            {1, 0, 0, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {0, 0, 1, 0},
            {0, 1, 0, 0},
            {0, 1, 0, 0},
            {1, 0, 0, 0},
            {0, 0, 0, 0},
        },
        {  // ~
            {0, 1, 1, 0, 0, 1, 0},
            {1, 0, 0, 1, 1, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0},
        }
    };

    static int[] glyphIndicesBySize = {
        32, 94, 3, 4, 5, 6, 11, 13, 15, 16,
        17, 18, 19, 20, 21, 22, 23, 24, 25,
        29, 31, 33, 34, 35, 36, 37, 38, 39,
        40, 42, 43, 44, 45, 46, 47, 48, 49,
        50, 51, 52, 53, 54, 55, 56, 57, 58,
        60, 62, 63, 65, 66, 67, 68, 69, 71,
        72, 74, 77, 78, 79, 80, 81, 82, 83,
        85, 86, 87, 88, 89, 90, 28, 30, 70,
        75, 2, 8, 9, 10, 41, 59, 61, 84, 91,
        93, 64, 76, 1, 7, 12, 14, 26, 27, 73,
        92, 0};
    //</editor-fold>

    public static String readScreenStringForward(int sx, int sy, int separatorColor, int sizeMult) {
        return readScreenStringForward(
            sx,
            sy,
            c -> ((c & 0x0000ff) >= (separatorColor & 0x0000ff)) &&
                 ((c & 0x00ff00) >= (separatorColor & 0x00ff00)) &&
                 ((c & 0xff0000) >= (separatorColor & 0xff0000)),
            sizeMult
        );
    }

    public static String readScreenStringForward(int sx, int sy, IntPredicate separatorFn, int sizeMult) {
        char decidedChar = '\0';
        int decidedCharPixelsWidth = 0;
        StringBuilder total = new StringBuilder();
        for (int j = 0; j < 100; j++) {
            possibleCharsLoop : for (int i = 0; i < glyphChecks.length; i++) {
                char c = (char) (i + 32);
                for (int x = 0; x < glyphChecks[i][0].length; x++) {
                    for (int y = 0; y < glyphChecks[i].length; y++) {
                        boolean expected = glyphChecks[i][y][x] == 1;
                        for (int d = 0; d < sizeMult * sizeMult; d++) {
                            int rgba = AutoSpeedrunApi.getScreenshotPixelRGBA(
                                sx + x * sizeMult + (d % sizeMult),
                                sy + y * sizeMult + (d / sizeMult)
                            );
                            if (rgba == 0) {
                                return "";
                            }
                            // 0xAABBGGRR bytes order, remove alpha
                            int sampleRGB = rgba & 0x00ffffff;
                            if (separatorFn.test(sampleRGB) ^ expected) {
                                continue possibleCharsLoop;
                            }
                        }
                    }
                }
                decidedChar = c;
                decidedCharPixelsWidth = c != ' ' ? glyphChecks[i][0].length * sizeMult : 4 * sizeMult;
            }
            if (decidedChar == '\0') {
//                    AutoSpeedrunApi.chatMessage("nothing found");
                break;
            } else {
                if (decidedChar == ' ' && total.toString().endsWith(" ")) {
                    total.deleteCharAt(total.length()-1);
                    break;
                }
//                    AutoSpeedrunApi.chatMessage("char is '" + decidedChar + "', width " + decidedCharPixelsWidth);
                total.append(decidedChar);
                sx += decidedCharPixelsWidth;
            }
        }
        return total.toString();
    }

    public static String readScreenStringBackward(int sx, int sy, int separatorColor, int sizeMult) {
        return readScreenStringBackward(sx, sy, separatorColor, glyphIndicesBySize, sizeMult);
    }

    public static String readScreenStringBackward(int sx, int sy, IntPredicate fn, int sizeMult) {
        return readScreenStringBackward(sx, sy, fn, glyphIndicesBySize, sizeMult);
    }

    public static String readScreenStringBackward(int sx, int sy, int separatorColor, int[] glyphIndicies,
                                                  int sizeMult) {
        return readScreenStringBackward(
            sx,
            sy,
            c -> ((c & 0x0000ff) >= (separatorColor & 0x0000ff)) &&
                ((c & 0x00ff00) >= (separatorColor & 0x00ff00)) &&
                ((c & 0xff0000) >= (separatorColor & 0xff0000)),
            glyphIndicies,
            sizeMult
        );
    }

    public static String readScreenStringBackward(int sx, int sy, IntPredicate fn,
                                                  int[] glyphIndicies, int sizeMult) {
        char decidedChar;
        int decidedCharPixelsWidth = 0;
        StringBuilder total = new StringBuilder();
        for (int j = 0; j < 100; j++) {
            decidedChar = '\0';
            possibleCharsLoop : for (int i : glyphIndicies) {
                char c = (char) (i + 32);
                for (int x = glyphChecks[i][0].length - 1, dx = 0; x >= 0; x--, dx--) {
                    for (int y = 0; y < glyphChecks[i].length; y++) {
                        boolean expected = glyphChecks[i][y][x] == 1;
                        for (int d = 0; d < sizeMult * sizeMult; d++) {
                            int rgba = AutoSpeedrunApi.getScreenshotPixelRGBA(
                                sx + dx * sizeMult + (d % sizeMult),
                                sy + y * sizeMult + (d / sizeMult)
                            );
                            if (rgba == 0) {
//                                AutoSpeedrunApi.chatMessage("nothing");
                                return "";
                            }
                            // 0xAABBGGRR bytes order, remove alpha
                            int sampleRGB = rgba & 0x00ffffff;
                            if (fn.test(sampleRGB) ^ (expected)) {
                                continue possibleCharsLoop;
                            }
                        }
                    }
                }
                decidedChar = c;
                decidedCharPixelsWidth = c != ' ' ? glyphChecks[i][0].length * sizeMult : 4 * sizeMult;
                break;
            }
            if (decidedChar == '\0') {
//                AutoSpeedrunApi.chatMessage("nothing found 2");
                break;
            } else {
                if (decidedChar == ' ' && total.toString().endsWith(" ")) {
                    total.deleteCharAt(total.length()-1);
                    break;
                }
//                AutoSpeedrunApi.chatMessage("char is '" + decidedChar + "', width " + decidedCharPixelsWidth);
//                name.quasar.autospeedrun.Util.LOGGER.info("char is '" + decidedChar + "', width " + sx);
                total.append(decidedChar);
                sx -= decidedCharPixelsWidth;
            }
        }
        return total.reverse().toString();
    }

}
